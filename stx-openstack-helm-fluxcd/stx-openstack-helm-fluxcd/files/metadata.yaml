app_name: app-openstack
app_version: 1.0-2
maintain_user_overrides: true
class: optional

disabled_charts:
- aodh
- barbican
- ceilometer
- ceph-rgw
- dcdbsync
- gnocchi
- ironic
- keystone-api-proxy
- prometheus-openstack-exporter

upgrades:
  auto_update: true

supported_k8s_version:
  minimum: 1.24.4

behavior:
  platform_managed_app: yes
  evaluate_reapply:
    triggers:
      - type: unlock
      - type: force-unlock
      - type: runtime-apply-puppet
      - type: host-availability-updated
      - type: kube-upgrade-complete
        filters:
          - availability: services-enabled
      - type: host-delete
        filters:
          - openstack_worker: True
